!function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";function s(t,e){const n=/(:\w+)/g,s=e.match(n)||[];let i=[];s.length>0&&(i=s.map(t=>t.slice(1)));const o=new RegExp(e.replace(n,"(\\w+)")),a=t.match(o);let r={};if(a){const[t,...e]=a;for(var l=0;l<s.length;l++)r[i[l]]=e[l]}return{match:a,urlData:r}}n.d(e,"a",(function(){return i}));class i extends HTMLElement{constructor(){super()}extractChildRoutes(){this.routes=Array.from(this.children).filter(t=>"MOKO-ROUTE"===t.tagName)}searchAncestor(t){const e=t[0].parentElement.closest("moko-switch-navigator, moko-stack-navigator, moko-tab-navigator");return e?this.searchAncestor([e,...t]):t}getContentElement(){return this.routes[this.routes.length-1].nextElementSibling}connectedCallback(){this.extractChildRoutes(),this.navigators||(this.navigators=this.searchAncestor([this])),this.urlData={...this.navigators.reduce((t,e)=>({...t,...e.urlData}),{})},addEventListener("hashchange",this)}disconnectedCallback(){removeEventListener("hashchange",this)}navigate(t){location.hash=`${this.getAncestorMatchedRoute()}/${t}`}getAncestorMatchedRoute(){return this.navigators.slice(0,this.navigators.length-1).reduce((t,e)=>t+"/"+e.matchedRouteLocation,"")}getCurrentRelativeLocation(t=this.getAncestorMatchedRoute()){let e=location.hash.substring(1).replace(t,"");return e="/"===e[0]?e.replace("/",""):e}searchMatchingRoute(){let t,e,n,i,o=this.getAncestorMatchedRoute(),a=this.getCurrentRelativeLocation(o);if(""===a)this.matchedRouteLocation="";else{for(const o of this.routes){o.selected=!1;const r=s(a,o.path);if(r.match){e=r,(t=o).selected=!0,n=(i=e.match[0])!==this.matchedRouteLocation;break}}n&&(this.matchedRouteLocation=i,this.urlData={...this.urlData,...e.urlData})}return{matchedRoute:t,matchedResult:e,ancestorMatchedRoute:o,routeChanged:n}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));class s extends HTMLElement{static get observedAttributes(){return["path","component","selected"]}removeFirstSlash(t){return 0===t.indexOf("/")?t.substring(1):t}attributeChangedCallback(t,e,n){"path"===t?this._path=this.removeFirstSlash(n):"component"===t?this._element||(this._element=n):"selected"===t&&(this._selected=n)}get path(){return this._path}get customElement(){return this._element}set path(t){this.setAttribute("path",t)}get selected(){return this._selected}set selected(t){this.setAttribute("selected",t)}}customElements.define("moko-route",s)},function(t,e,n){"use strict";const s=((t,e=[])=>{const n=class extends HTMLElement{static get observedAttributes(){return[...e]}constructor(){super(),this.connectedCallbackNumCalls=0}async connectedCallback(){if(this.connectedCallbackNumCalls>0)return;const e=t.bind(this);this.toRender=await e(this),"string"==typeof this.toRender?this.innerHTML=this.toRender:(this.toRender instanceof HTMLElement||this.toRender instanceof DocumentFragment)&&this.appendChild(this.toRender),this.connectedCallbackNumCalls++}};return e.forEach(t=>{Object.defineProperty(n.prototype,t,{set(e){this.setAttribute(t,e)},get(){return this.getAttribute(t)}})}),n})((function(){const t=this.innerHTML,e=document.createElement("a");return e.href=this.to,e.innerHTML=t,e.onclick=t=>{t.preventDefault(),t.stopPropagation(),this.closest("moko-switch-navigator, moko-stack-navigator","moko-tab-navigator").navigate(this.to)},this.innerHTML="",e}),["to"]);customElements.define("moko-link",s)},function(t,e,n){n(4),n(5),t.exports=n(6)},function(t,e,n){"use strict";n.r(e),n.d(e,"StackNavigator",(function(){return o}));n(1),n(2);var s=n(0);function i(t){const e=document.createElement("div");return e.style.position="absolute",e.style.width="inherit",e.style.height="inherit",e.style.overflow="hidden",e.style.transition="transform 0.4s cubic-bezier(0.22, 0.61, 0.36, 1)",t&&e.setAttribute("id",t),e}class o extends s.a{static get observedAttributes(){return["modal"]}attributeChangedCallback(t,e,n){"modal"===t&&(this.modal||(this._modal=!(""!==n&&!n)))}get modal(){return this._modal}setUrlData(t){this.urlData&&Object.keys(this.urlData).forEach(e=>{t.setAttribute(e,this.urlData[e])})}handleEvent(t){const{matchedResult:e,routeChanged:n,matchedRoute:s}=this.searchMatchingRoute();if(!e&&this.nextRoute&&this.onscreenFirstRoute(),e&&n){const t=document.createElement(s.customElement);t.style.display="block",this.setUrlData(t),this.nextRoute=i(),this.nextRoute.innerHTML="",this.nextRoute.appendChild(t),this.offscreenNextRoute(),setTimeout(()=>{this.appendChild(this.nextRoute),setTimeout(()=>{this.modal||(this.initialContentElement.style.transform="translateX(-30%)"),this.showNextRouteElement(t)},16)})}}offscreenNextRoute(){this.modal?this.nextRoute.style.transform="translateY(100%)":this.nextRoute.style.transform="translateX(100%)",setTimeout(()=>this.nextRoute.remove,500)}onscreenFirstRoute(){this.modal?this.nextRoute.style.transform="translateY(100%)":(this.nextRoute.style.transform="translateX(100%)",this.initialContentElement.style.transform="translateX(0)")}showNextRouteElement(){this.modal?this.nextRoute.style.transform="translateY(0)":this.nextRoute.style.transform="translateX(0)"}renderFirstRoute(){const t=document.createElement(this.routes[0].customElement);this.setUrlData(t),t.style.display="block";const e=i();e.appendChild(t),this.initialContentElement?this.initialContentElement.replaceWith(e):this.appendChild(e),this.initialContentElement=e}constructor(){super(),this.connectedCallbackNumCalls=0,this.style.position="relative",this.style.height="inherit",this.style.width="inherit",this.style.display="block",this.style.overflow="hidden"}connectedCallback(){super.connectedCallback(),this.initialContentElement=this.getContentElement(),0==this.connectedCallbackNumCalls++&&setTimeout(()=>{this.matchedRouteLocation=this.getAttribute("default-path")||this.routes[0].path,this.renderFirstRoute()})}}customElements.define("moko-stack-navigator",o)},function(t,e,n){"use strict";n.r(e),n.d(e,"MokoSwitchNavigator",(function(){return i}));n(1),n(2);var s=n(0);class i extends s.a{connectedCallback(){super.connectedCallback(),this.style.display="block",this.style.height="inherit",this.style.width="inherit",this.style.position="relative";const t=this.getAttribute("default-path");this.getContentElement()?this.matchedRouteLocation=t||this.routes[0].path:this.getCurrentRelativeLocation()?setTimeout(()=>this.handleEvent()):this.navigate(t||this.routes[0].path)}handleEvent(){const{matchedResult:t,matchedRoute:e,routeChanged:n}=this.searchMatchingRoute();if(t&&n){Array.from(this.routes).forEach(t=>t.innerHTML="");const n=this.getContentElement();n&&n.remove();const s=document.createElement(e.customElement);Object.keys(this.urlData).forEach(e=>{s.setAttribute(e,t.urlData[e])}),this.appendChild(s),this.dispatchEvent(new CustomEvent("moko-switch-view",{detail:{matchedRoute:e},bubbles:!0}))}}}customElements.define("moko-switch-navigator",i)},function(t,e,n){"use strict";n.r(e);var s=n(0);const i=document.createElement("template");i.innerHTML="<slot></slot>\n<style>\n    :host {\n        -webkit-tap-highlight-color: rgba(0,0,0,0);\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 50px;\n        display: flex;\n        background: #fff;\n        padding-bottom: env(safe-area-inset-bottom);\n    }\n\n    ::slotted(moko-tab) {\n        align-self: center;\n        flex-grow: 1;\n        text-align: center;\n        cursor: pointer;\n        display: flex;\n        flex-direction: column;\n    }\n</style>";const o=document.createElement("template");o.innerHTML="<slot>\x3c!-- ICON SLOT --\x3e</slot>\n<span>\x3c!-- title --\x3e</span>\n\n<style>\n    ::slotted(moko-icon) {\n        flex-grow: 1;\n        height: 18px;\n        padding-bottom: 5px;\n    }\n    span {\n        flex-grow: 1;\n    }\n</style>",window.ShadyCSS&&(ShadyCSS.prepareTemplate(i,"moko-tab-bar"),ShadyCSS.prepareTemplate(o,"moko-tab"));class a extends HTMLElement{static get observedAttributes(){return["title","name"]}attributeChangedCallback(t,e,n){switch(t){case"title":this._title=n;break;case"name":this._name=n}}constructor(){super(),this.attachShadow({mode:"open"}).appendChild(o.content.cloneNode(!0))}connectedCallback(){window.ShadyCSS&&ShadyCSS.styleElement(this);const t=this.shadowRoot.querySelector("span");this.getAttribute("title")&&(t.innerHTML=this.getAttribute("title")),this.querySelector("moko-icon")&&(t.style.fontSize="0.7em")}get name(){return this._name}get title(){return this._title}set name(t){this.setAttribute("name",t)}set title(t){this.setAttribute("title",t)}}customElements.define("moko-tab",a);class r extends HTMLElement{static get observedAttributes(){return["active-color"]}attributeChangedCallback(t,e,n){switch(t){case"active-color":this._activeColor=n}}constructor(){super(),this.attachShadow({mode:"open"}).appendChild(i.content.cloneNode(!0))}resetActiveColorForTabs(){Array.prototype.forEach.call(this.querySelectorAll("moko-tab"),t=>{t.style.color=null})}connectedCallback(){window.ShadyCSS&&ShadyCSS.styleElement(this),this.onclick=t=>{const e=t.target.closest("moko-tab");if(e){const t=e.getAttribute("name");this.resetActiveColorForTabs(),e.style.color=this.getAttribute("active-color"),this.dispatchEvent(new CustomEvent("moko-tab-selected",{detail:{name:t}}))}}}get activeColor(){return this._activeColor||"#A06CD5"}set activeColor(t){this.setAttribute("active-color",t)}set selected(t){this._currentTabSelected=this.querySelector(`moko-tab[name="${t}"]`),this._currentTabSelected.style.color=this.activeColor}get currentTabSelected(){return this._currentTabSelected}}customElements.define("moko-tab-bar",r);var l=n(1);n.d(e,"TabRoute",(function(){return c})),n.d(e,"TabNavigator",(function(){return u}));class c extends l.a{static get observedAttributes(){return[...l.a.observedAttributes,"title","icon"]}attributeChangedCallback(t,e,n){super.attributeChangedCallback(t,e,n),"icon"===t?this._icon=n:"title"===t&&(this._title=n)}set title(t){this.setAttribute("title",t)}set icon(t){this.setAttribute("icon",t)}get title(){return this._title}get icon(){return this._icon}}customElements.define("moko-tab-route",c);const h=document.createElement("template");h.innerHTML='\n<div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: 100%; width: 100%">\n    <div></div>\n    <moko-tab-bar></moko-tab-bar>\n</div>\n';class u extends s.a{static get observedAttributes(){return["active-color"]}attributeChangedCallback(t,e,n){switch(t){case"active-color":this._activeColor=n}}connectedCallback(){super.connectedCallback(),this.style.display="block",this.style.height="inherit",this.style.width="inherit",this.style.position="relative";const t=this.getAttribute("default-path"),e=this.getContentElement();e&&e.remove(),this.containers={},this.scrollsTop={};const n=h.content.cloneNode(!0);this.appendChild(n),this.$tabbar=this.querySelector("moko-tab-bar"),this.$tabbar.activeColor=this._activeColor||"#A06CD5",this.routes.forEach(t=>{const e=document.createElement("moko-tab");e.title=t.title,e.name=t.path,t.icon&&(e.innerHTML=`<moko-icon name="${t.icon}"></moko-icon>`),this.$tabbar.appendChild(e)}),location.hash?this.handleEvent():this.navigate(t||this.routes[0].path),this.$tabbar.addEventListener("moko-tab-selected",t=>{this.currentTabPath=t.detail.name,this.navigate(t.detail.name)})}getContentElement(){return this.lastElementChild.firstElementChild||this.lastElementChild}extractChildRoutes(){this.routes=Array.from(this.children).filter(t=>"MOKO-TAB-ROUTE"===t.tagName)}handleEvent(){this.scrollsTop[this.matchedRouteLocation]=this.getContentElement()&&this.getContentElement().scrollTop;const{matchedResult:t,matchedRoute:e,routeChanged:n}=this.searchMatchingRoute();if(t&&n){if(this.containers[e.path])this.syncHref(this.containers[e.path]);else{const n=document.createElement(e.customElement);n.style.display="block",n.style.overflow="scroll",n.style.width="inherit",n.style.height="inherit",Object.keys(this.urlData).forEach(e=>{n.setAttribute(e,t.urlData[e])}),this.containers[e.path]=n}this.getContentElement().replaceWith(this.containers[e.path]),this.getContentElement().scroll(0,this.scrollsTop[e.path]||0),this.$tabbar.resetActiveColorForTabs(),this.$tabbar.selected=e.path}}syncHref(t=this){const e=[...t.querySelectorAll("moko-tab-navigator, moko-switch-navigator, moko-stack-navigator")],n=location.href.split("#")[0]+"#"+this.getAncestorMatchedRoute()+(this.getAncestorMatchedRoute()?"/":"")+this.matchedRouteLocation;e.reduce((t,e)=>{const n=`${t}/${e.matchedRouteLocation}`;return n!==location.href?history.pushState({},n,n):history.replaceState({},n,n),n},n)}}customElements.define("moko-tab-navigator",u)}]);